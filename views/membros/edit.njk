{% extends "layout.njk" %}

{% block content %}

  <div class="card">

    <section 
      class="avatar"
      style="background:url({{membro.avatar_url}}) no-repeat center center / cover"
    >
      
    </section>    
      
    <section class="detalhes">

      <form method="POST" action="/membros?_method=PUT">

        <h3>Editar Membro</h3>

          {% include 'membros/fields.njk' %}

          <input type="hidden" name="id" value={{membro.id}}>

      </form>

      <form id="form_delete" action="/membros?_method=DELETE" method="post">

        <input type="hidden" name="id" value={{membro.id}}>
        <button type="submit">DELETAR</button>

      </form>

      <script>

        const formDelete = document.querySelector("#form_delete")
        formDelete.addEventListener("submit", function(event){
          const confirmation = confirm("Deseja Deletar?")
          if(!confirmation){
            event.preventDefault()
          }
        })

      </script>

    </section>    

  </div>
  
{% endblock content %}
